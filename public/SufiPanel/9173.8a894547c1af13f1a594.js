(self.webpackChunksufi_panel=self.webpackChunksufi_panel||[]).push([[9173],{9173:(e,t,r)=>{"use strict";r.r(t),r.d(t,{PkNewTransactionModule:()=>S});var n=r(1116),o=r(4140),a=r(1462),i=r(7368),l=r(2749),d=r(5703),s=r(8918),m=r(8307);function c(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("value",e.dr_cr_to),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.dr_cr_to)}}function u(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",29),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("value",e.dr_cr_to),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.dr_cr_to)}}const p=[{path:"",component:(()=>{class e{constructor(e,t,r,n,o,a){this.spinner=e,this.modalService=t,this.fb=r,this.notifierService=n,this.router=o,this.accountService=a,this.getTransactionBox=()=>{this.spinner.show(),this.accountService.getPKTransaction({}).subscribe(e=>{"True"===e.status&&(this.spinner.hide(),this.boxData=e.data.supplierData.concat(e.data.BankData,e.data.ExpenseData,e.data.IncomData),this.boxData.map(e=>{e.supplier_name&&(e.dr_cr_to=e.supplier_name),e.bank_name&&(e.dr_cr_to=e.bank_name),e.expense_name&&(e.dr_cr_to=e.expense_name),e.head_name&&(e.dr_cr_to=e.head_name)}),console.log(this.boxData))})},this.savePKNewTransaction=()=>{this.spinner.show();let e={dr_pay_to:this.newDebitCreditForm.controls.dr_pay_to.value,cr_pay_by:this.newDebitCreditForm.controls.cr_pay_by.value,cr_amount:this.newDebitCreditForm.controls.cr_amount.value,dr_amount:this.newDebitCreditForm.controls.dr_amount.value,cr_booking_ref:this.newDebitCreditForm.controls.cr_booking_ref.value,dr_booking_ref:this.newDebitCreditForm.controls.dr_booking_ref.value,tr_description:this.newDebitCreditForm.controls.tr_description.value,card_number:this.newDebitCreditForm.controls.tr_card.value,next_due_Date:this.newDebitCreditForm.controls.tr_due_date.value,transectionDate:this.newDebitCreditForm.controls.transaction_date.value};console.log(e),this.accountService.postPKTransaction(e).subscribe(e=>{"True"===e.status&&(this.spinner.hide(),this.newDebitCreditForm.reset(),this.notifier.notify("success","Successfully Saved"))},e=>{this.spinner.hide(),this.notifier.notify("error",e)})},this.notifier=n}ngOnInit(){this.newDebitCreditForm=this.fb.group({dr_pay_to:["",a.Validators.required],dr_amount:["",a.Validators.required],dr_booking_ref:["",a.Validators.required],cr_pay_by:["",a.Validators.required],cr_amount:["",a.Validators.required],cr_booking_ref:["",a.Validators.required],tr_description:["",a.Validators.required],tr_card:["",a.Validators.required],tr_due_date:["",a.Validators.required],transaction_date:[""]}),this.getTransactionBox()}get debitsControls(){return this.newDebitCreditForm.get("addDebitForm").controls}get creditsControls(){return this.newDebitCreditForm.get("addCreditForm").controls}addDebit(){this.addDebitForm=this.newDebitCreditForm.get("addDebitForm"),console.log(this.addDebitForm),this.addDebitForm.push(this.createDebit())}addCredit(){this.addCreditForm=this.newDebitCreditForm.get("addCreditForm"),console.log(this.addCreditForm),this.addCreditForm.push(this.createCredit())}removeDebit(e){0!==e&&this.addDebitForm.removeAt(e)}removeCredit(e){0!==e&&this.addCreditForm.removeAt(e)}logValue(){console.log(this.addDebitForm.value)}createDebit(){return this.fb.group({dr_pay_to:["null"],dr_amount:["null"],dr_booking_ref:[""]})}createCredit(){return this.fb.group({cr_pay_by:[""],cr_amount:[""],cr_booking_ref:[""]})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](l.t2),i["\u0275\u0275directiveInject"](d.gk),i["\u0275\u0275directiveInject"](a.FormBuilder),i["\u0275\u0275directiveInject"](s.lG),i["\u0275\u0275directiveInject"](o.F0),i["\u0275\u0275directiveInject"](m.i))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-pk-new-transaction"]],decls:74,vars:4,consts:[[1,"iq-card","iq-card-block","iq-card-stretch","iq-card-height"],[1,"iq-card-header","d-flex","justify-content-between"],[1,"iq-header-title"],[1,"card-title"],[1,"iq-card-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup"],[1,"row","m-3"],[1,"col-md-3","form-group"],["type","date","formControlName","transaction_date",1,"form-control","form-control-sm"],[1,"col-md-6"],["formControlName","dr_pay_to",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-3"],["aria-hidden","true",1,"fa","fa-gbp"],["type","text","formControlName","dr_amount",1,"form-control","form-control-sm"],["type","text","formControlName","dr_booking_ref",1,"form-control"],["formControlName","cr_pay_by",1,"form-control"],["value","null","selected",""],["type","text","formControlName","cr_amount",1,"form-control","form-control-sm"],["type","text","formControlName","cr_booking_ref",1,"form-control"],["type","text","formControlName","tr_description",1,"form-control","form-control-sm"],["type","text","formControlName","tr_card",1,"form-control"],["type","date","formControlName","tr_due_date",1,"form-control"],[1,"text-center","mt-5",3,"click"],["data-title","Save ",1,"saveBtn"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate",3,"fullScreen"],[2,"color","white"],[3,"value"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"h2",3),i["\u0275\u0275text"](4,"PK New Transaction"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](5,"div"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](6,"notifier-container"),i["\u0275\u0275elementStart"](7,"div",4),i["\u0275\u0275elementStart"](8,"div",5),i["\u0275\u0275elementStart"](9,"div",6),i["\u0275\u0275elementStart"](10,"form",7),i["\u0275\u0275elementStart"](11,"div",8),i["\u0275\u0275elementStart"](12,"div",9),i["\u0275\u0275elementStart"](13,"label"),i["\u0275\u0275text"](14,"Transaction Date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](15,"input",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"div",5),i["\u0275\u0275elementStart"](17,"div",11),i["\u0275\u0275elementStart"](18,"label"),i["\u0275\u0275text"](19,"To (Dr.):"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"select",12),i["\u0275\u0275elementStart"](21,"option"),i["\u0275\u0275text"](22,"--Select One--"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](23,c,2,2,"option",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"div",14),i["\u0275\u0275elementStart"](25,"label"),i["\u0275\u0275text"](26,"Amount ("),i["\u0275\u0275element"](27,"i",15),i["\u0275\u0275text"](28,"):"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](29,"input",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](30,"div",14),i["\u0275\u0275elementStart"](31,"label"),i["\u0275\u0275text"](32,"Booking Ref:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](33,"input",17),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](34,"hr"),i["\u0275\u0275elementStart"](35,"div",5),i["\u0275\u0275elementStart"](36,"div",11),i["\u0275\u0275elementStart"](37,"label"),i["\u0275\u0275text"](38,"By (Cr.):"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](39,"select",18),i["\u0275\u0275elementStart"](40,"option",19),i["\u0275\u0275text"](41,"--Select One--"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](42,u,2,2,"option",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](43,"div",14),i["\u0275\u0275elementStart"](44,"label"),i["\u0275\u0275text"](45,"Amount ("),i["\u0275\u0275element"](46,"i",15),i["\u0275\u0275text"](47,"):"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](48,"input",20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](49,"div",14),i["\u0275\u0275elementStart"](50,"label"),i["\u0275\u0275text"](51,"Booking Ref:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](52,"input",21),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](53,"hr"),i["\u0275\u0275elementStart"](54,"div",5),i["\u0275\u0275elementStart"](55,"div",11),i["\u0275\u0275elementStart"](56,"label"),i["\u0275\u0275text"](57,"Description:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](58,"input",22),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](59,"div",14),i["\u0275\u0275elementStart"](60,"label"),i["\u0275\u0275text"](61,"Card# ("),i["\u0275\u0275element"](62,"i",15),i["\u0275\u0275text"](63,"):"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](64,"input",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](65,"div",14),i["\u0275\u0275elementStart"](66,"label"),i["\u0275\u0275text"](67,"Due Date:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](68,"input",24),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](69,"div",25),i["\u0275\u0275listener"]("click",function(){return t.savePKNewTransaction()}),i["\u0275\u0275element"](70,"a",26),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](71,"ngx-spinner",27),i["\u0275\u0275elementStart"](72,"p",28),i["\u0275\u0275text"](73," Loading... "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](10),i["\u0275\u0275property"]("formGroup",t.newDebitCreditForm),i["\u0275\u0275advance"](13),i["\u0275\u0275property"]("ngForOf",t.boxData),i["\u0275\u0275advance"](19),i["\u0275\u0275property"]("ngForOf",t.boxData),i["\u0275\u0275advance"](29),i["\u0275\u0275property"]("fullScreen",!0))},directives:[s.TK,a["\u0275NgNoValidate"],a.NgControlStatusGroup,a.FormGroupDirective,a.DefaultValueAccessor,a.NgControlStatus,a.FormControlName,a.SelectControlValueAccessor,a.NgSelectOption,a["\u0275NgSelectMultipleOption"],n.sg,l.Ro],styles:['.saveBtn[_ngcontent-%COMP%]{position:relative;display:inline-block;padding:1.2em 2em;text-decoration:none;text-align:center;cursor:pointer;-webkit-user-select:none;user-select:none;color:#fff}.saveBtn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:linear-gradient(135deg,#6e8efb,#a777e3);border-radius:4px;transition:box-shadow .5s ease,transform .2s ease;will-change:transform;box-shadow:0 2px 5px #0003;transform:translateY(var(--ty,0)) rotateX(var(--rx,0)) rotateY(var(--ry,0)) translateZ(var(--tz,-12px))}.saveBtn[_ngcontent-%COMP%]:hover:before{box-shadow:0 5px 15px #0000004d}.saveBtn[_ngcontent-%COMP%]:after{position:relative;display:inline-block;content:attr(data-title);transition:transform .2s ease;font-weight:700;letter-spacing:.01em;will-change:transform;transform:translateY(var(--ty,0)) rotateX(var(--rx,0)) rotateY(var(--ry,0))}']}),e})()}];let f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[o.Bz.forChild(p)],o.Bz]}),e})();var _=r(2693),b=r(8453),h=r(9282),v=r(4510);const g={position:{horizontal:{position:"right",distance:12},vertical:{position:"bottom",distance:12,gap:10}},theme:"material",behaviour:{autoHide:5e3,onClick:!1,onMouseover:"pauseAutoHide",showDismissButton:!0,stacking:4},animations:{enabled:!0,show:{preset:"slide",speed:300,easing:"ease"},hide:{preset:"fade",speed:300,easing:"ease",offset:50},shift:{speed:300,easing:"ease"},overlap:150}};let S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[n.ez,f,l.ef,s.Eb.withConfig(g),d.zk,_.JF,a.ReactiveFormsModule,b.h,a.FormsModule,v.K,h.JX]]}),e})()}}]);