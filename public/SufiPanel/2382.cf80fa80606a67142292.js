(self.webpackChunksufi_panel=self.webpackChunksufi_panel||[]).push([[2382],{2382:(e,t,n)=>{"use strict";n.r(t),n.d(t,{IssuedUnclearedModule:()=>I});var a=n(1116),r=n(4140),s=n(3187),i=n(7368),l=n(2749),o=n(5703),d=n(1462),m=n(8918),h=n(1755),u=n(5946);function c(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",28),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("value",e.id),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.brand_name)}}function p(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td"),i["\u0275\u0275elementStart"](2,"p",29),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"td"),i["\u0275\u0275elementStart"](5,"p",29),i["\u0275\u0275elementStart"](6,"strong"),i["\u0275\u0275elementStart"](7,"a",30),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().bookingDetailRoute(t.ref_no)}),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"td"),i["\u0275\u0275elementStart"](10,"p",29),i["\u0275\u0275text"](11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"td"),i["\u0275\u0275elementStart"](13,"p",29),i["\u0275\u0275text"](14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"td"),i["\u0275\u0275elementStart"](16,"p",29),i["\u0275\u0275text"](17),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"td"),i["\u0275\u0275elementStart"](19,"p",29),i["\u0275\u0275text"](20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"td"),i["\u0275\u0275elementStart"](22,"p",29),i["\u0275\u0275text"](23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"td"),i["\u0275\u0275elementStart"](25,"p",29),i["\u0275\u0275text"](26),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,a=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](a.serialNumberArray[n]-a.pageSize*(a.paginatePageNumber-1)),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](e.ref_no),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",e.booking_date," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",e.departure_date," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",e.returnDate," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",e.supplier_ref," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",e.fullname," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",e.first_name," ")}}function g(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",28),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("value",e),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e," ")}}const f=[{path:"",component:(()=>{class e{constructor(e,t,n,a,r,s,i){this.spinner=e,this.modalService=t,this.fb=n,this.notifierService=a,this.router=r,this.service=s,this.adminService=i,this.pageNumberForClick=[],this.pageSize=100,this.startNumber=0,this.serialNumberArray=[],this.paginatePageNumber=1,this.oldDB=!1,this.bookingDetailRoute=e=>{this.router.navigate(["/issued-uncleared/booking-details",{id:e}])},this.getBrands=()=>{this.adminService.getBrands().subscribe(e=>{"True"==e.status&&(this.brandsData=e.data)})},this.toggleChange=e=>{this.getIssuedUnClearedToggle(e)},this.getIssuedUnClearedToggle=e=>{!0===e?(this.spinner.show(),this.service.issued_uncleared({brand_fliter:"",sort_fliter:"",start_:this.startNumber,end_:this.pageSize,db:"mysql2"}).subscribe(e=>{if(console.log("Issued UnCleared Data",e),"True"===e.status){this.unClearedData=e.data.IssuedBookingData,this.spinner.hide(),this.totalRecords=this.unClearedData.length,this.unClearedData.map(e=>{e.ref_no=e.company_code+"-"+e.id}),this.numOfPages=this.totalRecords/this.pageSize,this.spinner.hide();for(let e=this.totalRecords;e>=1;e--)this.serialNumberArray.push(e);this.isFloat(this.numOfPages)?(this.numOfPages=1+~~this.numOfPages,this.showPagesNumber()):this.showPagesNumber()}})):(this.spinner.show(),this.service.issued_uncleared({brand_fliter:"",sort_fliter:"",start_:this.startNumber,end_:this.pageSize,db:"mysql"}).subscribe(e=>{if(console.log("Issued UnCleared Data",e),"True"===e.status){this.unClearedData=e.data.IssuedBookingData,this.spinner.hide(),this.totalRecords=this.unClearedData.length,this.unClearedData.map(e=>{e.ref_no=e.company_code+"-"+e.id}),this.numOfPages=this.totalRecords/this.pageSize,this.spinner.hide();for(let e=this.totalRecords;e>=1;e--)this.serialNumberArray.push(e);this.isFloat(this.numOfPages)?(this.numOfPages=1+~~this.numOfPages,this.showPagesNumber()):this.showPagesNumber()}}))},this.getIssuedUnCleared=()=>{let e="";!0===this.oldDB&&(e="mysql2"),0==this.oldDB&&(e="mysql"),this.spinner.show(),this.service.issued_uncleared({brand_fliter:"",sort_fliter:"",start_:this.startNumber,end_:this.pageSize,db:e}).subscribe(e=>{if(console.log("Issued UnCleared Data",e),"True"===e.status){this.unClearedData=e.data.IssuedBookingData,this.spinner.hide(),this.totalRecords=this.unClearedData.length,this.unClearedData.map(e=>{e.ref_no=e.company_code+"-"+e.id}),this.numOfPages=this.totalRecords/this.pageSize,this.spinner.hide();for(let e=this.totalRecords;e>=1;e--)this.serialNumberArray.push(e);this.isFloat(this.numOfPages)?(this.numOfPages=1+~~this.numOfPages,this.showPagesNumber()):this.showPagesNumber()}})},this.sortIssuedUnCleared=e=>{let t="";!0===this.oldDB&&(t="mysql2"),0==this.oldDB&&(t="mysql"),this.spinner.show(),this.service.issued_uncleared({brand_fliter:"",sort_fliter:e.target.value,start_:0,end_:this.totalRecords,db:t}).subscribe(e=>{if(console.log("Issued UnCleared Data",e),"True"===e.status){this.unClearedData=e.data.IssuedBookingData,this.spinner.hide(),this.totalRecords=this.unClearedData.length,this.numOfPages=this.totalRecords/this.pageSize,this.spinner.hide();for(let e=this.totalRecords;e>=1;e--)this.serialNumberArray.push(e);this.isFloat(this.numOfPages)?(this.numOfPages=1+~~this.numOfPages,this.showPagesNumber()):this.showPagesNumber()}})},this.getPaginationNumberRecord=e=>{this.paginatePageNumber=e.target.value,this.startNumber=this.pageSize*(this.paginatePageNumber-1),this.getIssuedUnCleared()},this.showPagesNumber=()=>{if(0==this.pageNumberForClick.length)for(let e=1;e<=this.numOfPages;e++)this.pageNumberForClick.push(e);else{this.pageNumberForClick.length=0;for(let e=1;e<=this.numOfPages;e++)this.pageNumberForClick.push(e)}return this.pageNumberForClick},this.getNumOfRecords=e=>{this.startNumber=0,this.paginatePageNumber=1,this.pageNumberForClick.length=0,this.pageSize=e.target.value,console.log(e.target.value),this.getIssuedUnCleared()},this.notifier=a}ngOnInit(){this.getIssuedUnCleared(),this.getBrands()}isFloat(e){return Number(e)===e&&e%1!=0}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](l.t2),i["\u0275\u0275directiveInject"](o.gk),i["\u0275\u0275directiveInject"](d.FormBuilder),i["\u0275\u0275directiveInject"](m.lG),i["\u0275\u0275directiveInject"](r.F0),i["\u0275\u0275directiveInject"](h.F),i["\u0275\u0275directiveInject"](u.l))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-issued-uncleared"]],decls:64,vars:4,consts:[[1,"iq-card","iq-card-block","iq-card-stretch","iq-card-height"],[1,"iq-card-header","d-flex","justify-content-between","px-3","border-bottom"],[1,"iq-header-title"],[1,"card-title"],[1,"row","px-3","pt-2"],[1,"col-md-7"],[1,"col-md-5"],[1,"row"],[1,"col-md-6","form-group"],[1,"form-control","form-control-sm"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control","form-control-sm",3,"change"],["value","b_date"],["value","t_date"],["value","b_no"],["value","c_name"],["value","b_agent"],[1,"iq-card-body"],[1,"table-responsive"],[1,"table","table-hover","text-center","mb-0","mt-0"],[1,"bg-primary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"card-footer","text-center","py-3"],[1,"text-danger","selectPageLabel"],[1,"form-control",3,"change"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate",3,"fullScreen"],[2,"color","white"],[3,"value"],[1,"mb-0"],[1,"cursor-pointer","text-color-new",2,"font-size","13px !important",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"h2",3),i["\u0275\u0275text"](4,"Issued UnCleared"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",4),i["\u0275\u0275element"](6,"div",5),i["\u0275\u0275elementStart"](7,"div",6),i["\u0275\u0275elementStart"](8,"div",7),i["\u0275\u0275elementStart"](9,"div",8),i["\u0275\u0275elementStart"](10,"label"),i["\u0275\u0275text"](11,"Select Brand: "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"select",9),i["\u0275\u0275elementStart"](13,"option"),i["\u0275\u0275text"](14,"--Select Brands--"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](15,c,2,2,"option",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"div",8),i["\u0275\u0275elementStart"](17,"label"),i["\u0275\u0275text"](18,"Sort By: "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"select",11),i["\u0275\u0275listener"]("change",function(e){return t.sortIssuedUnCleared(e)}),i["\u0275\u0275elementStart"](20,"option"),i["\u0275\u0275text"](21,"--Sort By--"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"option",12),i["\u0275\u0275text"](23,"For Date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"option",13),i["\u0275\u0275text"](25,"Traveling date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"option",14),i["\u0275\u0275text"](27,"Booking regerence number"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"option",15),i["\u0275\u0275text"](29,"Customer name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](30,"option",16),i["\u0275\u0275text"](31,"Agent"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](32,"div",17),i["\u0275\u0275elementStart"](33,"div",18),i["\u0275\u0275elementStart"](34,"table",19),i["\u0275\u0275elementStart"](35,"thead",20),i["\u0275\u0275elementStart"](36,"tr"),i["\u0275\u0275elementStart"](37,"th",21),i["\u0275\u0275text"](38,"Sr#"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](39,"th",21),i["\u0275\u0275text"](40,"File No."),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](41,"th",21),i["\u0275\u0275text"](42,"booking Date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](43,"th",21),i["\u0275\u0275text"](44,"Travelling Date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](45,"th",21),i["\u0275\u0275text"](46,"Return Date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](47,"th",21),i["\u0275\u0275text"](48,"Sup.Ref#"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](49,"th",21),i["\u0275\u0275text"](50,"Customer Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](51,"th",21),i["\u0275\u0275text"](52,"Agent"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](53,"tbody"),i["\u0275\u0275template"](54,p,27,8,"tr",22),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](55,"div",23),i["\u0275\u0275elementStart"](56,"label",24),i["\u0275\u0275text"](57,"Select Page: "),i["\u0275\u0275elementStart"](58,"select",25),i["\u0275\u0275listener"]("change",function(e){return t.getPaginationNumberRecord(e)}),i["\u0275\u0275template"](59,g,2,2,"option",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](60,"notifier-container"),i["\u0275\u0275elementStart"](61,"ngx-spinner",26),i["\u0275\u0275elementStart"](62,"p",27),i["\u0275\u0275text"](63," Loading... "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](15),i["\u0275\u0275property"]("ngForOf",t.brandsData),i["\u0275\u0275advance"](39),i["\u0275\u0275property"]("ngForOf",t.unClearedData),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngForOf",t.pageNumberForClick),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("fullScreen",!0))},directives:[d.NgSelectOption,d["\u0275NgSelectMultipleOption"],a.sg,m.TK,l.Ro],styles:["a[_ngcontent-%COMP%]{font-size:20px;cursor:pointer}.text-color-new[_ngcontent-%COMP%]{color:#d49d42}"]}),e})()},{path:"booking-details",component:s.A}];let b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[r.Bz.forChild(f)],r.Bz]}),e})();var S=n(2693),v=n(7241),E=n(8453),x=n(9282),C=n(4510),N=n(9710);const _={position:{horizontal:{position:"right",distance:12},vertical:{position:"bottom",distance:12,gap:10}},theme:"material",behaviour:{autoHide:5e3,onClick:!1,onMouseover:"pauseAutoHide",showDismissButton:!0,stacking:4},animations:{enabled:!0,show:{preset:"slide",speed:300,easing:"ease"},hide:{preset:"fade",speed:300,easing:"ease",offset:50},shift:{speed:300,easing:"ease"},overlap:150}};let I=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[a.ez,b,l.ef,m.Eb.withConfig(_),o.zk,S.JF,d.ReactiveFormsModule,E.h,d.FormsModule,C.K,x.JX,v.UM,N.S]]}),e})()}}]);