(self.webpackChunksufi_panel=self.webpackChunksufi_panel||[]).push([[4653],{4653:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AdminAnnouncementsModule:()=>w});var r=n(1116),i=n(4140),o=n(1462),l=n(1153),d=n(7368),a=n(2749),m=n(5703),s=n(8918),c=n(5946),u=n(4510);const p=["myModalAdd"],f=["TABLE"];function h(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",24),d["\u0275\u0275text"](1,"Announcement Field is required!"),d["\u0275\u0275elementEnd"]())}function b(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275template"](1,h,2,0,"span",35),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==e.addAnnouncementForm.controls.announcement.errors?null:e.addAnnouncementForm.controls.announcement.errors.required)}}const S=function(){return{color:"red"}},v=function(){return{color:"black"}},E=function(e,t){return{th:e,td:t}},x=[{path:"",component:(()=>{class e{constructor(e,t,n,r,i){this.spinner=e,this.modalService=t,this.fb=n,this.notifierService=r,this.adminService=i,this.isSubmitted=!1,this.addAnnouncement=()=>{this.isSubmitted=!0,this.addAnnouncementForm.valid&&(this.spinner.show(),this.adminService.addAnnouncements({message:this.addAnnouncementForm.controls.announcement.value}).subscribe(e=>{this.spinner.hide(),this.isSubmitted=!1,this.closeModalAdd(),this.notifier.notify("success","Successfully Saved")},e=>{this.spinner.hide(),this.notifier.notify("error",e)}))},this.resetAnnouncementForm=()=>{this.addAnnouncementForm.reset()},this.ExportTOExcel=()=>{const e=l.utils.table_to_sheet(this.TABLE.nativeElement),t=l.utils.book_new();l.utils.book_append_sheet(t,e,"Sheet1"),l.writeFile(t,"announcementDetails.xlsx")},this.openModalAdd=()=>{this.modalRefAdd=this.modalService.open(this.myModalAdd,{size:"lg",modalClass:"mymodal",hideCloseButton:!1,centered:!1,backdrop:!0,animation:!0,keyboard:!1,closeOnOutsideClick:!1,backdropClass:"modal-backdrop"})},this.closeModalAdd=()=>{this.modalService.close(this.modalRefAdd)},this.notifier=r}ngOnInit(){this.addAnnouncementForm=this.fb.group({title:[""],announcement:["",o.Validators.required]})}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](a.t2),d["\u0275\u0275directiveInject"](m.gk),d["\u0275\u0275directiveInject"](o.FormBuilder),d["\u0275\u0275directiveInject"](s.lG),d["\u0275\u0275directiveInject"](c.l))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-admin-announcements"]],viewQuery:function(e,t){if(1&e&&(d["\u0275\u0275viewQuery"](p,5),d["\u0275\u0275viewQuery"](f,5)),2&e){let e;d["\u0275\u0275queryRefresh"](e=d["\u0275\u0275loadQuery"]())&&(t.myModalAdd=e.first),d["\u0275\u0275queryRefresh"](e=d["\u0275\u0275loadQuery"]())&&(t.TABLE=e.first)}},decls:64,vars:10,consts:[[1,"iq-card","iq-card-block","iq-card-stretch","iq-card-height"],[1,"iq-card-header","d-flex","justify-content-between"],[1,"iq-header-title"],[1,"card-title"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus"],[1,"d-flex","align-items-center","justify-content-between","pl-2","mt-3","pr-3"],[1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-outline-success","mx-1",3,"click"],[1,"fa","fa-file"],["type","button","printTitle","Announcements Detail | Sufi Travel & Tours","printSectionId","print-section","ngxPrint","",1,"btn","btn-outline-danger","mx-1",3,"printStyle","useExistingCss"],[1,"fa","fa-print"],["id","print-section",1,"iq-card-body"],["TABLE","","table",""],[1,"table-responsive"],[1,"table","table-hover","text-center","mb-0","mt-2"],[1,"bg-primary"],["scope","col"],["myModalAdd",""],[1,"text-light"],[3,"formGroup"],[1,"row"],[1,"col-md-6","form-group"],["type","text","formControlName","title",1,"form-control"],[1,"text-danger"],["type","text","formControlName","announcement",1,"form-control"],[4,"ngIf"],["type","btn",1,"btn","btn-primary","mx-1",3,"click"],["aria-hidden","true",1,"fa","fa-check"],["type","reset",1,"btn","btn-dark","mx-1",3,"click"],["aria-hidden","true",1,"fa","fa-times"],["type","btn",1,"btn","btn-danger","mx-1",3,"click"],["aria-hidden","true",1,"fa","fa-ban"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate",3,"fullScreen"],[2,"color","white"],["class","text-danger",4,"ngIf"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275elementStart"](2,"div",2),d["\u0275\u0275elementStart"](3,"h2",3),d["\u0275\u0275text"](4,"Announcements"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"div"),d["\u0275\u0275elementStart"](6,"button",4),d["\u0275\u0275listener"]("click",function(){return t.openModalAdd()}),d["\u0275\u0275element"](7,"i",5),d["\u0275\u0275text"](8," Add New Announcement "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](9,"div",6),d["\u0275\u0275elementStart"](10,"div",7),d["\u0275\u0275elementStart"](11,"button",8),d["\u0275\u0275listener"]("click",function(){return t.ExportTOExcel()}),d["\u0275\u0275element"](12,"i",9),d["\u0275\u0275text"](13," Excel"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](14,"button",10),d["\u0275\u0275element"](15,"i",11),d["\u0275\u0275text"](16," Print"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](17,"div",7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](18,"div",12,13),d["\u0275\u0275elementStart"](21,"div",14),d["\u0275\u0275elementStart"](22,"table",15),d["\u0275\u0275elementStart"](23,"thead",16),d["\u0275\u0275elementStart"](24,"tr"),d["\u0275\u0275elementStart"](25,"th",17),d["\u0275\u0275text"](26,"Sr#"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](27,"th",17),d["\u0275\u0275text"](28,"Announcement"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](29,"th",17),d["\u0275\u0275text"](30,"Actions"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](31,"modal",null,18),d["\u0275\u0275elementStart"](33,"modal-header"),d["\u0275\u0275elementStart"](34,"h4",19),d["\u0275\u0275text"](35,"Add New Announcement"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](36,"modal-content"),d["\u0275\u0275elementStart"](37,"form",20),d["\u0275\u0275elementStart"](38,"div",21),d["\u0275\u0275elementStart"](39,"div",22),d["\u0275\u0275elementStart"](40,"label"),d["\u0275\u0275text"](41,"Title"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](42,"input",23),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](43,"div",22),d["\u0275\u0275elementStart"](44,"label"),d["\u0275\u0275text"](45,"Announcment Text "),d["\u0275\u0275elementStart"](46,"span",24),d["\u0275\u0275text"](47,"*"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](48,"textarea",25),d["\u0275\u0275template"](49,b,2,1,"div",26),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](50,"modal-footer"),d["\u0275\u0275elementStart"](51,"button",27),d["\u0275\u0275listener"]("click",function(){return t.addAnnouncement()}),d["\u0275\u0275text"](52,"Save "),d["\u0275\u0275element"](53,"i",28),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](54,"button",29),d["\u0275\u0275listener"]("click",function(){return t.resetAnnouncementForm()}),d["\u0275\u0275text"](55,"Reset "),d["\u0275\u0275element"](56,"i",30),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](57,"button",31),d["\u0275\u0275listener"]("click",function(){return t.closeModalAdd()}),d["\u0275\u0275text"](58,"Close "),d["\u0275\u0275element"](59,"i",32),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](60,"ngx-spinner",33),d["\u0275\u0275elementStart"](61,"p",34),d["\u0275\u0275text"](62," Loading... "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](63,"notifier-container")),2&e&&(d["\u0275\u0275advance"](14),d["\u0275\u0275property"]("printStyle",d["\u0275\u0275pureFunction2"](7,E,d["\u0275\u0275pureFunction0"](5,S),d["\u0275\u0275pureFunction0"](6,v)))("useExistingCss",!0),d["\u0275\u0275advance"](23),d["\u0275\u0275property"]("formGroup",t.addAnnouncementForm),d["\u0275\u0275advance"](12),d["\u0275\u0275property"]("ngIf",t.isSubmitted||t.addAnnouncementForm.controls.announcement.invalid&&(t.addAnnouncementForm.controls.announcement.dirty||t.addAnnouncementForm.controls.announcement.touched)),d["\u0275\u0275advance"](11),d["\u0275\u0275property"]("fullScreen",!0))},directives:[u.I,m.zS,m.Rb,m.Ef,o["\u0275NgNoValidate"],o.NgControlStatusGroup,o.FormGroupDirective,o.DefaultValueAccessor,o.NgControlStatus,o.FormControlName,r.O5,m.YI,a.Ro,s.TK],styles:[""]}),e})()}];let y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=d["\u0275\u0275defineInjector"]({imports:[[i.Bz.forChild(x)],i.Bz]}),e})();var A=n(2693),g=n(8453),k=n(9282);const F={position:{horizontal:{position:"right",distance:12},vertical:{position:"bottom",distance:12,gap:10}},theme:"material",behaviour:{autoHide:5e3,onClick:!1,onMouseover:"pauseAutoHide",showDismissButton:!0,stacking:4},animations:{enabled:!0,show:{preset:"slide",speed:300,easing:"ease"},hide:{preset:"fade",speed:300,easing:"ease",offset:50},shift:{speed:300,easing:"ease"},overlap:150}};let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=d["\u0275\u0275defineInjector"]({imports:[[r.ez,y,a.ef,s.Eb.withConfig(F),m.zk,A.JF,o.ReactiveFormsModule,g.h,o.FormsModule,u.K,k.JX]]}),e})()}}]);